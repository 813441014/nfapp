(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a744b70"],{"02f4":function(t,e,i){var s=i("4588"),a=i("be13");t.exports=function(t){return function(e,i){var o,n,c=String(a(e)),r=s(i),l=c.length;return r<0||r>=l?t?"":void 0:(o=c.charCodeAt(r),o<55296||o>56319||r+1===l||(n=c.charCodeAt(r+1))<56320||n>57343?t?c.charAt(r):o:t?c.slice(r,r+2):n-56320+(o-55296<<10)+65536)}}},"0390":function(t,e,i){"use strict";var s=i("02f4")(!0);t.exports=function(t,e,i){return e+(i?s(t,e).length:1)}},"0bfb":function(t,e,i){"use strict";var s=i("cb7c");t.exports=function(){var t=s(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"214f":function(t,e,i){"use strict";i("b0c5");var s=i("2aba"),a=i("32e9"),o=i("79e5"),n=i("be13"),c=i("2b4c"),r=i("520a"),l=c("species"),d=!o(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),p=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2===i.length&&"a"===i[0]&&"b"===i[1]}();t.exports=function(t,e,i){var u=c(t),h=!o(function(){var e={};return e[u]=function(){return 7},7!=""[t](e)}),m=h?!o(function(){var e=!1,i=/a/;return i.exec=function(){return e=!0,null},"split"===t&&(i.constructor={},i.constructor[l]=function(){return i}),i[u](""),!e}):void 0;if(!h||!m||"replace"===t&&!d||"split"===t&&!p){var g=/./[u],f=i(n,u,""[t],function(t,e,i,s,a){return e.exec===r?h&&!a?{done:!0,value:g.call(e,i,s)}:{done:!0,value:t.call(i,e,s)}:{done:!1}}),v=f[0],y=f[1];s(String.prototype,t,v),a(RegExp.prototype,u,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},"520a":function(t,e,i){"use strict";var s=i("0bfb"),a=RegExp.prototype.exec,o=String.prototype.replace,n=a,c="lastIndex",r=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t[c]||0!==e[c]}(),l=void 0!==/()??/.exec("")[1],d=r||l;d&&(n=function(t){var e,i,n,d,p=this;return l&&(i=new RegExp("^"+p.source+"$(?!\\s)",s.call(p))),r&&(e=p[c]),n=a.call(p,t),r&&n&&(p[c]=p.global?n.index+n[0].length:e),l&&n&&n.length>1&&o.call(n[0],i,function(){for(d=1;d<arguments.length-2;d++)void 0===arguments[d]&&(n[d]=void 0)}),n}),t.exports=n},"5b2a":function(t,e,i){"use strict";var s=i("f922"),a=i.n(s);a.a},"5f1b":function(t,e,i){"use strict";var s=i("23c6"),a=RegExp.prototype.exec;t.exports=function(t,e){var i=t.exec;if("function"===typeof i){var o=i.call(t,e);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==s(t))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},9778:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"header"},[i("div",{staticClass:"goBack",on:{click:function(e){return t.goBack()}}},[i("span",{staticClass:"iconfont icon-fanhui1"})]),i("p",[t._v("发布信息")]),i("span",{staticClass:"btn",on:{click:function(e){return t.sure()}}},[t._v("发布")])]),i("div",{staticClass:"container"},[t.goods_style_falg?i("div",{staticClass:"mainFlex"},[i("p",{staticClass:"title"},[t._v("交易类型")]),i("div",{on:{click:function(e){return t.todeal()}}},[i("input",{attrs:{type:"text",placeholder:"请选择交易类型",readonly:"readonly"},domProps:{value:t.selDeal.name}}),i("span",{staticClass:"iconfont icon-xiayibu"})])]):t._e(),i("div",{staticClass:"mainFlex"},[i("p",{staticClass:"title"},[t._v(t._s(t.typeName))]),i("div",{on:{click:function(e){return t.toType()}}},[i("input",{attrs:{type:"text",placeholder:t.typePlace,readonly:"readonly"},domProps:{value:t.selType.name}}),i("span",{staticClass:"iconfont icon-xiayibu"})])]),i("div",{staticClass:"mainFlex"},[i("p",{staticClass:"title"},[t._v("标题")]),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.goods_name,expression:"goods_name"}],attrs:{type:"text",placeholder:"请输入信息要点，20字以内"},domProps:{value:t.goods_name},on:{input:function(e){e.target.composing||(t.goods_name=e.target.value)}}})])]),i("div",{staticClass:"main"},[i("p",[t._v("商品图片")]),i("div",{staticClass:"imgUli"},[t._l(t.image,function(t,e){return i("div",{key:e,staticClass:"imgLi"},[i("img",{attrs:{src:t,alt:""}})])}),t.image.length<10?i("div",{staticClass:"addImg"},[i("span",{staticClass:"iconfont icon-add"}),i("p",[t._v("添加图片")]),i("input",{attrs:{type:"file"},on:{change:function(e){return t.zzUrl(e)}}})]):t._e()],2)]),i("div",{staticClass:"mainFlex"},[i("p",{staticClass:"title"},[t._v("单位")]),i("div",[i("span",[t._v(t._s(t.selUnit.name))]),i("span",{staticClass:"iconfont icon-xiayibu",on:{click:function(e){return t.toUnit()}}})])]),i("div",{staticClass:"mainFlex"},[i("p",{staticClass:"title"},[t._v("数量")]),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.num,expression:"num"}],attrs:{type:"number",placeholder:"请输入数量"},domProps:{value:t.num},on:{input:function(e){e.target.composing||(t.num=e.target.value)}}}),i("span",[t._v(t._s(t.selUnit.name))])])]),i("div",{staticClass:"mainFlex"},[i("p",{staticClass:"title"},[t._v("价格")]),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],attrs:{type:"number",placeholder:"如不填写默认面议"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}}),i("span",[t._v("元/"+t._s(t.selUnit.name))])])]),i("div",{staticClass:"mainFlex"},[i("p",{staticClass:"title"},[t._v("联系电话")]),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"text",placeholder:"请输入电话"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})])]),t._m(0),6==t.type_choose||16==t.type_choose?i("div",{staticClass:"mainFlex"},[i("p",{staticClass:"title"},[t._v("位置")]),t._m(1)]):t._e(),6==t.type_choose||16==t.type_choose?i("div",{staticClass:"mainFlex"},[i("p",{staticClass:"title"},[t._v("位置")]),t._m(2)]):t._e(),6==t.type_choose||16==t.type_choose?i("div",{staticClass:"mainFlex"},[i("p",{staticClass:"title"},[t._v("详细地址")]),t._m(3)]):t._e(),i("div",{staticClass:"main"},[i("p",{staticClass:"title"},[t._v("描述")]),i("div",[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{type:"text",placeholder:t.place},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})])])]),t.choose_flag?i("chooseType",{attrs:{item:t.goodsType01,typeTit:t.typeName},on:{chotype:t.chotype,dismiss:t.dismiss}}):t._e(),t.unit_flag?i("chooseUnit",{attrs:{item:t.unitType01},on:{chotype:t.chouni,dismiss:t.dismiss}}):t._e(),t.deal_flag?i("chooseDeal",{attrs:{item:t.goods_style_arr},on:{chotype:t.chodeal,dismiss:t.dismiss}}):t._e()],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mainFlex"},[i("p",{staticClass:"title"},[t._v("位置")]),i("div",[i("input",{attrs:{type:"text",placeholder:"请输入电话"}}),i("span",{staticClass:"iconfont icon-xiayibu",attrs:{onclick:"tolocat()"}})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("input",{attrs:{type:"text",placeholder:"请输入电话"}}),i("span",{staticClass:"iconfont icon-xiayibu",attrs:{onclick:"tolocat()"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("input",{attrs:{type:"text",placeholder:"请输入电话"}}),i("span",{staticClass:"iconfont icon-xiayibu",attrs:{onclick:"tolocat()"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("input",{attrs:{type:"text",placeholder:"请输入详细地址"}}),i("span",{staticClass:"iconfont icon-xiayibu",attrs:{onclick:"tolocat()"}})])}],o=i("f499"),n=i.n(o),c=(i("a481"),i("30cc")),r=i("0acb"),l=i("3ca2"),d=i("d399"),p=i("2241"),u={name:"publish",components:{chooseType:c["a"],chooseUnit:r["a"],chooseDeal:l["a"]},data:function(){return{choose_flag:!1,unit_flag:!1,deal_flag:!1,goodsType01:[],unitType01:[],selType:{},selUnit:{},selDeal:{},goods_name:"",image:[],goods_style:1,userId:"",creat_time:"",sex:"",age:"",description:"",type_choose:"",addr:"",goods_style_xi:"",goods_style_arr:[],goods_style_falg:!1,title:"",num:"",phone:"",price:"",typeName:"",typePlace:"",place:"",address:{province_id:"",city_id:"",area_id:"",addr:"",longitude:"",latitude:""},sureFalg:!0}},created:function(){this.unit(),this.type_choose=this.$route.query.id,this.creat_time=(new Date).getTime(),console.log(localStorage.getItem("type")),this.goods_style=localStorage.getItem("type"),this.userId=localStorage.getItem("userId");var t=1;console.log(this.type_choose),1==this.type_choose?(this.goods_style_arr=[{id:1,name:"土地出租"},{id:2,name:"土地出让"}],this.goods_style_falg=!0,this.title="土地出租/出让信息发布",this.typeName="土地类型",this.place="描述您土地等级及相关配套设施信息，有助于达成合作",this.typePlace="请选择土地类型",t=1):2==this.type_choose?(this.goods_style_arr=[{id:3,name:"求租"},{id:4,name:"购买"}],this.goods_style_falg=!0,this.title="农机具求租/购买信息发布",this.typeName="农机具类型",this.place="描述您求租或购买农机具品牌、参数及其他服务要求，有助于达成合作",t=2,this.typePlace="请选择农机具类型"):3==this.type_choose?(this.title="农副产品销售信息发布",this.typeName="农副产品类型",this.place="描述您销售产品的详细名称、种类、质量等内容，有助于达成合作",this.typePlace="请选择农副产品类型",t=3):4==this.type_choose?(this.title="求购农资信息发布",this.typeName="农资类型",this.place="描述您求购农资的详细名称、种类、质量、参数及其他服务要求，有助于达成合作",this.typePlace="请选择农资类型",t=4):5==this.type_choose?(this.title="订单种植信息发布",this.typeName="订单种植类型",this.place="详细描述您订单种植意向，有助于达成合作",this.typePlace="请选择订单种植类型",t=3):6==this.type_choose||(11==this.type_choose?(this.goods_style_arr=[{id:11,name:"承包"},{id:12,name:"流转"}],this.goods_style_falg=!0,this.title="土地承包/流转信息发布",this.typeName="土地类型",this.place="描述您承包或流转土地等级和要求及相关配套设施信息，有助于达成合作",this.typePlace="请选择土地类型",t=1):12==this.type_choose?(this.goods_style_arr=[{id:13,name:"出租"},{id:14,name:"销售"}],this.goods_style_falg=!0,this.title="农机具出租/销售信息发布",this.typeName="农机具类型",this.place="描述您出租或销售农机具品牌、参数及其他服务内容，有助于达成合作",this.typePlace="请选择农机具类型",t=2):13==this.type_choose?(this.title="农副产品收购信息发布",this.typeName="农副产品类型",this.place="描述您收购产品详细名称、种类、质量及要求等内容，有助于达成合作",this.typePlace="请选择农副产品类型",t=3):14==this.type_choose?(this.title="销售农资信息发布",this.typeName="农资类型",this.place="描述您销售农资的详细名称、种类、质量、参数及其他服务，有助于达成合作",this.typePlace="请选择农资类型",t=4):15==this.type_choose?(this.title="订单回购信息发布",this.typeName="订单回购类型",this.place="详细描述您订单回购产品种类、质量及其他要求，有助于达成合作",this.typePlace="请选择订单回购类型",t=3):this.type_choose),this.type(t)},methods:{sure:function(){var t=this;return this.goods_style_falg&&""==this.selDeal.id?(Object(p["a"])({message:"请选择交易类型",confirmButtonColor:"#1bb339"}),!1):this.selType.id&&""!=this.selType.id?""==this.goods_name?(Object(p["a"])({message:"请输入标题",confirmButtonColor:"#1bb339"}),!1):0==this.image.length?(Object(p["a"])({message:"请选择图片",confirmButtonColor:"#1bb339"}),!1):""==this.num?(Object(p["a"])({message:"请输入数量",confirmButtonColor:"#1bb339"}),!1):""==this.phone?(Object(p["a"])({message:"请输入手机号",confirmButtonColor:"#1bb339"}),!1):/^1[3456789]\d{9}$/.test(this.phone)?""==this.description?(Object(p["a"])({message:"请输入描述",confirmButtonColor:"#1bb339"}),!1):!!this.sureFalg&&(this.sureFalg=!1,void this.ajax.post(this.mainUrl+"goods/Goods/release",this.qs.stringify({goods_name:this.goods_name,goods_style_xi:this.selDeal.id,transa_id:this.selType.id,image:this.image.join(","),unit:this.selUnit.id,num:this.num,price:this.price,phone:this.phone,province_id:this.address.province_id,city_id:this.address.city_id,area_id:this.address.area_id,addr:this.address.addr,longitude:this.address.longitude,latitude:this.address.longitude,description:this.description,release_style:this.goods_style,goods_style:this.type_choose,user_id:this.userId,creat_time:this.creat_time,sex:"",age:""}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){t.sureFalg=!0,0==e.data.code?(d["a"].success("发布成功"),setTimeout(function(){t.$router.replace({path:"/mainroute/index"})},2e3)):Object(p["a"])({message:e.data.msg,confirmButtonColor:"#1bb339"})}).catch(function(){})):(Object(p["a"])({message:"手机号码有误，请重填",confirmButtonColor:"#1bb339"}),!1):(Object(p["a"])({message:"请选择"+this.typeName,confirmButtonColor:"#1bb339"}),!1)},zzUrl:function(t){var e=new FileReader,i=this;e.onload=function(){return function(){i.upLoad(this.result)}}(t.target.files[0]),e.readAsDataURL(t.target.files[0])},upLoad:function(t){var e=this;this.ajax.post(this.mainUrl+"upload/Upload/base64_image_upload",this.qs.stringify({base64:t}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){0==t.data.code?e.$set(e.image,e.image.length,t.data.data.imageSrc):Object(p["a"])({message:t.data.msg,confirmButtonColor:"#1bb339"})}).catch(function(){})},dismiss:function(){this.choose_flag=!1,this.unit_flag=!1,this.deal_flag=!1},goBack:function(){this.$router.go(-1)},unit:function(){var t=this;this.ajax.post(this.mainUrl+"goods/Goods/goodsUnit",{},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){0==e.data.code?(t.unitType01=e.data.data,t.$set(t.selUnit,"name",e.data.data[0].unit_name),t.$set(t.selUnit,"id",e.data.data[0].unit_id)):Object(p["a"])({message:e.data.msg,confirmButtonColor:"#1bb339"})}).catch(function(){})},type:function(t){var e=this;this.ajax.post(this.mainUrl+"goods/Goods/goodsType",this.qs.stringify({type:t}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){0==t.data.code?e.goodsType01=t.data.data:Object(p["a"])({message:t.data.msg,confirmButtonColor:"#1bb339"})}).catch(function(){})},todeal:function(){this.deal_flag=!0},toType:function(){this.choose_flag=!0},toUnit:function(){this.unit_flag=!0},chotype:function(t){this.selType=t,console.log(n()(t)),this.choose_flag=!1},chouni:function(t){console.log("dkk"),this.selUnit=t,console.log(n()(t)),this.unit_flag=!1},chodeal:function(t){this.selDeal=t,console.log(n()(t)),this.deal_flag=!1}}},h=u,m=(i("5b2a"),i("2877")),g=Object(m["a"])(h,s,a,!1,null,"c1ea44c2",null);e["default"]=g.exports},a481:function(t,e,i){"use strict";var s=i("cb7c"),a=i("4bf8"),o=i("9def"),n=i("4588"),c=i("0390"),r=i("5f1b"),l=Math.max,d=Math.min,p=Math.floor,u=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g,m=function(t){return void 0===t?t:String(t)};i("214f")("replace",2,function(t,e,i,g){return[function(s,a){var o=t(this),n=void 0==s?void 0:s[e];return void 0!==n?n.call(s,o,a):i.call(String(o),s,a)},function(t,e){var a=g(i,t,this,e);if(a.done)return a.value;var p=s(t),u=String(this),h="function"===typeof e;h||(e=String(e));var v=p.global;if(v){var y=p.unicode;p.lastIndex=0}var _=[];while(1){var b=r(p,u);if(null===b)break;if(_.push(b),!v)break;var x=String(b[0]);""===x&&(p.lastIndex=c(u,o(p.lastIndex),y))}for(var C="",w=0,T=0;T<_.length;T++){b=_[T];for(var k=String(b[0]),U=l(d(n(b.index),u.length),0),j=[],$=1;$<b.length;$++)j.push(m(b[$]));var N=b.groups;if(h){var P=[k].concat(j,U,u);void 0!==N&&P.push(N);var F=String(e.apply(void 0,P))}else F=f(k,u,U,j,N,e);U>=w&&(C+=u.slice(w,U)+F,w=U+k.length)}return C+u.slice(w)}];function f(t,e,s,o,n,c){var r=s+t.length,l=o.length,d=h;return void 0!==n&&(n=a(n),d=u),i.call(c,d,function(i,a){var c;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,s);case"'":return e.slice(r);case"<":c=n[a.slice(1,-1)];break;default:var d=+a;if(0===d)return i;if(d>l){var u=p(d/10);return 0===u?i:u<=l?void 0===o[u-1]?a.charAt(1):o[u-1]+a.charAt(1):i}c=o[d-1]}return void 0===c?"":c})}})},b0c5:function(t,e,i){"use strict";var s=i("520a");i("5ca1")({target:"RegExp",proto:!0,forced:s!==/./.exec},{exec:s})},f922:function(t,e,i){}}]);
//# sourceMappingURL=chunk-2a744b70.826653a9.js.map