(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-081d4d7e"],{"133b":function(t,e,i){"use strict";var s=i("e7a1"),a=RegExp.prototype.exec,n=String.prototype.replace,o=a,l="lastIndex",r=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t[l]||0!==e[l]}(),c=void 0!==/()??/.exec("")[1],d=r||c;d&&(o=function(t){var e,i,o,d,p=this;return c&&(i=new RegExp("^"+p.source+"$(?!\\s)",s.call(p))),r&&(e=p[l]),o=a.call(p,t),r&&o&&(p[l]=p.global?o.index+o[0].length:e),c&&o&&o.length>1&&n.call(o[0],i,(function(){for(d=1;d<arguments.length-2;d++)void 0===arguments[d]&&(o[d]=void 0)})),o}),t.exports=o},"1eb0":function(t,e,i){var s=i("a6ad"),a=i("3038");t.exports=function(t){return function(e,i){var n,o,l=String(a(e)),r=s(i),c=l.length;return r<0||r>=c?t?"":void 0:(n=l.charCodeAt(r),n<55296||n>56319||r+1===c||(o=l.charCodeAt(r+1))<56320||o>57343?t?l.charAt(r):n:t?l.slice(r,r+2):o-56320+(n-55296<<10)+65536)}}},2137:function(t,e,i){"use strict";var s=i("02f2"),a=RegExp.prototype.exec;t.exports=function(t,e){var i=t.exec;if("function"===typeof i){var n=i.call(t,e);if("object"!==typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==s(t))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},"6af6":function(t,e,i){"use strict";i("b3f3");var s=i("a6d5"),a=i("b8ea"),n=i("0cc1"),o=i("3038"),l=i("1277"),r=i("133b"),c=l("species"),d=!n((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),p=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2===i.length&&"a"===i[0]&&"b"===i[1]}();t.exports=function(t,e,i){var u=l(t),h=!n((function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})),g=h?!n((function(){var e=!1,i=/a/;return i.exec=function(){return e=!0,null},"split"===t&&(i.constructor={},i.constructor[c]=function(){return i}),i[u](""),!e})):void 0;if(!h||!g||"replace"===t&&!d||"split"===t&&!p){var m=/./[u],f=i(o,u,""[t],(function(t,e,i,s,a){return e.exec===r?h&&!a?{done:!0,value:m.call(e,i,s)}:{done:!0,value:t.call(i,e,s)}:{done:!1}})),v=f[0],y=f[1];s(String.prototype,t,v),a(RegExp.prototype,u,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},9778:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"header"},[i("div",{staticClass:"goBack",on:{click:function(e){return t.goBack()}}},[i("span",{staticClass:"iconfont icon-fanhui1"})]),i("p",[t._v("发布信息")]),i("span",{staticClass:"btn",on:{click:function(e){return t.sure()}}},[t._v("发布")])]),i("div",{staticClass:"container"},[t.goods_style_falg?i("div",{staticClass:"mainFlex"},[i("p",{staticClass:"title"},[t._v("交易类型")]),i("div",{on:{click:function(e){return t.todeal()}}},[i("input",{attrs:{type:"text",placeholder:"请选择交易类型",readonly:"readonly"},domProps:{value:t.selDeal.name}}),i("span",{staticClass:"iconfont icon-xiayibu"})]),i("span",{staticClass:"leftIcon"},[t._v("*")])]):t._e(),i("div",{staticClass:"mainFlex"},[i("p",{staticClass:"title"},[t._v(t._s(t.typeName))]),i("div",{on:{click:function(e){return t.toType()}}},[i("input",{attrs:{type:"text",placeholder:t.typePlace,readonly:"readonly"},domProps:{value:t.selType.name}}),i("span",{staticClass:"iconfont icon-xiayibu"})]),i("span",{staticClass:"leftIcon"},[t._v("*")])]),i("div",{staticClass:"mainFlex"},[i("p",{staticClass:"title"},[t._v("标题")]),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.goods_name,expression:"goods_name"}],attrs:{type:"text",placeholder:"请输入信息要点，20字以内"},domProps:{value:t.goods_name},on:{input:function(e){e.target.composing||(t.goods_name=e.target.value)}}})]),i("span",{staticClass:"leftIcon"},[t._v("*")])]),i("div",{staticClass:"main"},[i("p",[t._v("商品图片")]),i("div",{staticClass:"imgUli"},[t._l(t.image,(function(t,e){return i("div",{key:e,staticClass:"imgLi"},[i("img",{attrs:{src:t,alt:""}})])})),t.image.length<10?i("div",{staticClass:"addImg"},[i("span",{staticClass:"iconfont icon-add"}),i("p",[t._v("添加图片")]),i("input",{attrs:{type:"file"},on:{change:function(e){return t.zzUrl(e)}}})]):t._e()],2)]),i("div",{staticClass:"mainFlex"},[i("p",{staticClass:"title"},[t._v("单位")]),i("div",[i("span",[t._v(t._s(t.selUnit.name))]),i("span",{staticClass:"iconfont icon-xiayibu",on:{click:function(e){return t.toUnit()}}})]),i("span",{staticClass:"leftIcon"},[t._v("*")])]),i("div",{staticClass:"mainFlex"},[i("p",{staticClass:"title"},[t._v("数量")]),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.num,expression:"num"}],attrs:{type:"number",placeholder:"请输入数量",readonly:"readonly"},domProps:{value:t.num},on:{click:function(e){t.numFlag=!0},input:function(e){e.target.composing||(t.num=e.target.value)}}}),i("span",[t._v(t._s(t.selUnit.name))])]),i("span",{staticClass:"leftIcon"},[t._v("*")])]),i("div",{staticClass:"mainFlex"},[i("p",{staticClass:"title"},[t._v("价格")]),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],attrs:{type:"number",placeholder:"如不填写默认面议",readonly:"readonly"},domProps:{value:t.price},on:{click:function(e){t.priceFlag=!0},input:function(e){e.target.composing||(t.price=e.target.value)}}}),i("span",[t._v("元/"+t._s(t.selUnit.name))])])]),i("div",{staticClass:"mainFlex"},[i("p",{staticClass:"title"},[t._v("联系电话")]),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"text",placeholder:"请输入电话",readonly:"readonly"},domProps:{value:t.phone},on:{click:function(e){t.phoneFlag=!0},input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),i("span",{staticClass:"leftIcon"},[t._v("*")])]),i("div",{staticClass:"mainFlex"},[i("p",{staticClass:"title"},[t._v("位置")]),i("div",[i("div",{on:{click:function(e){return t.gain()}}},[t._v("\r\n                   "+t._s(""==t.selCity?"请选择":t.selCity)+"\r\n               ")])]),i("span",{staticClass:"leftIcon"},[t._v("*")])]),i("div",{staticClass:"mainFlex"},[i("p",{staticClass:"title"},[t._v("详细地址")]),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.addressName,expression:"addressName"}],attrs:{type:"text",placeholder:"请输入详细地址",readonly:"readonly"},domProps:{value:t.addressName},on:{click:function(e){t.addressFlag=!0},input:function(e){e.target.composing||(t.addressName=e.target.value)}}})]),i("span",{staticClass:"leftIcon"},[t._v("*")])]),i("div",{staticClass:"main"},[i("p",{staticClass:"title"},[t._v("描述")]),i("div",[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{type:"text",placeholder:t.place,readonly:"readonly"},domProps:{value:t.description},on:{click:function(e){t.descriptionFlag=!0},input:function(e){e.target.composing||(t.description=e.target.value)}}})])])]),t.choose_flag?i("chooseType",{attrs:{item:t.goodsType01,typeTit:t.typeName},on:{chotype:t.chotype,dismiss:t.dismiss}}):t._e(),t.unit_flag?i("chooseUnit",{attrs:{item:t.unitType01},on:{chotype:t.chouni,dismiss:t.dismiss}}):t._e(),t.deal_flag?i("chooseDeal",{attrs:{item:t.goods_style_arr},on:{chotype:t.chodeal,dismiss:t.dismiss}}):t._e(),t.show?i("cityCompontents",{attrs:{location:t.location},on:{confirmSure:t.confirmSure,alertMiss:t.alertMiss}}):t._e(),t.numFlag?i("inp",{attrs:{title:t.num,type:"number"},on:{dismiss:t.dismissInp,sureValue:t.sureValuenum}}):t._e(),t.priceFlag?i("inp",{attrs:{title:t.price,type:"number"},on:{dismiss:t.dismissInp,sureValue:t.sureValueprice}}):t._e(),t.phoneFlag?i("inp",{attrs:{title:t.phone,type:"number"},on:{dismiss:t.dismissInp,sureValue:t.sureValuephone}}):t._e(),t.addressFlag?i("inp",{attrs:{title:t.addressName,type:"text"},on:{dismiss:t.dismissInp,sureValue:t.sureValueaddr}}):t._e(),t.descriptionFlag?i("text_inp",{attrs:{title:t.description},on:{dismiss:t.dismissInp,sureValue:t.sureValuedescription}}):t._e()],1)},a=[],n=(i("c041"),i("30cc")),o=i("0acb"),l=i("3ca2"),r=i("8ed0"),c=i("35f1"),d=i("19b2"),p=i("4a8a"),u=i("0a5f"),h={name:"publish",components:{chooseType:n["a"],chooseUnit:o["a"],chooseDeal:l["a"],cityCompontents:d["a"],inp:p["a"],text_inp:u["a"]},data:function(){return{numFlag:!1,priceFlag:!1,phoneFlag:!1,addressFlag:!1,descriptionFlag:!1,show:!1,choose_flag:!1,unit_flag:!1,deal_flag:!1,goodsType01:[],unitType01:[],selType:{},selUnit:{},selDeal:{},goods_name:"",image:[],goods_style:1,userId:"",creat_time:"",sex:"",age:"",description:"",type_choose:"",addr:"",goods_style_xi:"",goods_style_arr:[],goods_style_falg:!1,title:"",num:"",phone:"",price:"",typeName:"",typePlace:"",place:"",address:{province_id:"",city_id:"",area_id:"",addr:"",longitude:"",latitude:""},sureFalg:!0,selId:{},selCity:"",addressName:"",location:{}}},created:function(){this.$set(this.selId,"province",localStorage.getItem("province_id")),this.$set(this.selId,"city",localStorage.getItem("city_id")),this.$set(this.selId,"area",localStorage.getItem("area_id"));var t=localStorage.getItem("address_name"),e=localStorage.getItem("province_name"),i=localStorage.getItem("city_name"),s=localStorage.getItem("area_name");this.$set(this.location,"address",t),this.$set(this.location,"province",e),this.$set(this.location,"city",i),this.$set(this.location,"area",s),console.log(e),this.selCity=e+i+s,this.unit(),this.type_choose=this.$route.query.id,this.creat_time=(new Date).getTime(),console.log(this.creat_time),console.log(localStorage.getItem("type")),this.goods_style=localStorage.getItem("type"),this.userId=localStorage.getItem("userId");var a=1;console.log(this.type_choose),1==this.type_choose?(this.goods_style_arr=[{id:1,name:"土地出租"},{id:2,name:"土地出让"}],this.goods_style_falg=!0,this.title="土地出租/出让信息发布",this.typeName="土地类型",this.place="描述您土地等级及相关配套设施信息，有助于提供精准服务达成合作",this.typePlace="请选择土地类型",a=1):2==this.type_choose?(this.goods_style_arr=[{id:3,name:"求租"},{id:4,name:"购买"}],this.goods_style_falg=!0,this.title="农机具求租/购买信息发布",this.typeName="农机具类型",this.place="描述您求租或购买农机具品牌、参数及其他服务要求，有助于达成合作",a=2,this.typePlace="请选择农机具类型"):3==this.type_choose?(this.title="农副产品销售信息发布",this.typeName="农副产品类型",this.place="描述您销售产品的详细名称、种类、质量等内容，有助于达成合作",this.typePlace="请选择农副产品类型",a=3):4==this.type_choose?(this.title="求购农资信息发布",this.typeName="农资类型",this.place="描述您求购农资的详细名称、种类、质量、参数及其他服务要求，有助于达成合作",this.typePlace="请选择农资类型",a=4):5==this.type_choose?(this.title="订单种植信息发布",this.typeName="订单种植类型",this.place="详细描述您订单种植意向，有助于达成合作",this.typePlace="请选择订单种植类型",a=3):6==this.type_choose||(11==this.type_choose?(this.goods_style_arr=[{id:11,name:"承包"},{id:12,name:"流转"}],this.goods_style_falg=!0,this.title="土地承包/流转信息发布",this.typeName="土地类型",this.place="描述您承包或流转土地等级和要求及相关配套设施信息，有助于达成合作",this.typePlace="请选择土地类型",a=1):12==this.type_choose?(this.goods_style_arr=[{id:13,name:"出租"},{id:14,name:"销售"}],this.goods_style_falg=!0,this.title="农机具出租/销售信息发布",this.typeName="农机具类型",this.place="描述您出租或销售农机具品牌、参数及其他服务内容，有助于达成合作",this.typePlace="请选择农机具类型",a=2):13==this.type_choose?(this.title="农副产品收购信息发布",this.typeName="农副产品类型",this.place="描述您收购产品详细名称、种类、质量及要求等内容，有助于达成合作",this.typePlace="请选择农副产品类型",a=3):14==this.type_choose?(this.title="销售农资信息发布",this.typeName="农资类型",this.place="描述您销售农资的详细名称、种类、质量、参数及其他服务，有助于达成合作",this.typePlace="请选择农资类型",a=4):15==this.type_choose?(this.title="订单回购信息发布",this.typeName="订单回购类型",this.place="详细描述您订单回购产品种类、质量及其他要求，有助于达成合作",this.typePlace="请选择订单回购类型",a=3):this.type_choose),this.type(a),console.log(localStorage.getItem("province_name"))},mounted:function(){console.log(localStorage.getItem("province_name"))},methods:{alertMiss:function(){this.show=!1},dismissInp:function(){this.numFlag=!1,this.priceFlag=!1,this.phoneFlag=!1,this.addressFlag=!1,this.descriptionFlag=!1},sureValuenum:function(t){this.numFlag=!1,this.priceFlag=!1,this.phoneFlag=!1,this.addressFlag=!1,this.descriptionFlag=!1,this.num=t},sureValueprice:function(t){this.numFlag=!1,this.priceFlag=!1,this.phoneFlag=!1,this.addressFlag=!1,this.descriptionFlag=!1,this.price=t},gain:function(){this.show=!0},sureValuephone:function(t){this.numFlag=!1,this.priceFlag=!1,this.phoneFlag=!1,this.addressFlag=!1,this.descriptionFlag=!1,this.phone=t},sureValueaddr:function(t){this.numFlag=!1,this.priceFlag=!1,this.phoneFlag=!1,this.addressFlag=!1,this.descriptionFlag=!1,this.addressName=t},sureValuedescription:function(t){this.numFlag=!1,this.priceFlag=!1,this.phoneFlag=!1,this.addressFlag=!1,this.descriptionFlag=!1,this.description=t},confirmSure:function(t){this.show=!1,this.$set(this.selId,"province",t.province),this.$set(this.selId,"city",t.city),this.$set(this.selId,"area",t.area),this.selCity=t.address},sure:function(){var t=this;return this.goods_style_falg&&""==this.selDeal.id?(Object(c["a"])({message:"请选择交易类型",confirmButtonColor:"#1bb339"}),!1):this.selType.id&&""!=this.selType.id?""==this.goods_name?(Object(c["a"])({message:"请输入标题",confirmButtonColor:"#1bb339"}),!1):""==this.num?(Object(c["a"])({message:"请输入数量",confirmButtonColor:"#1bb339"}),!1):""==this.phone?(Object(c["a"])({message:"请输入手机号",confirmButtonColor:"#1bb339"}),!1):/^1[3456789]\d{9}$/.test(this.phone)?!!this.sureFalg&&(this.sureFalg=!1,void this.ajax.post(this.mainUrl+"goods/Goods/release",this.qs.stringify({goods_name:this.goods_name,goods_style_xi:this.selDeal.id,transa_id:this.selType.id,image:this.image.join(","),unit:this.selUnit.id,num:this.num,price:this.price,phone:this.phone,province_id:this.selId.province,city_id:this.selId.city,area_id:this.selId.area,addr:this.addressName,longitude:"",latitude:"",description:this.description,release_style:this.goods_style,goods_style:this.type_choose,user_id:this.userId,creat_time:this.creat_time,sex:"",age:""}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.sureFalg=!0,0==e.data.code?(r["a"].success("发布成功"),setTimeout((function(){t.$router.replace({path:"/mainroute/index"})}),1e3)):Object(c["a"])({message:e.data.msg,confirmButtonColor:"#1bb339"})})).catch((function(){}))):(Object(c["a"])({message:"手机号码有误，请重填",confirmButtonColor:"#1bb339"}),!1):(Object(c["a"])({message:"请选择"+this.typeName,confirmButtonColor:"#1bb339"}),!1)},zzUrl:function(t){var e=new FileReader,i=this;e.onload=function(){return function(){i.upLoad(this.result)}}(t.target.files[0]),e.readAsDataURL(t.target.files[0])},upLoad:function(t){var e=this;this.ajax.post(this.mainUrl+"upload/Upload/base64_image_upload",this.qs.stringify({base64:t}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){0==t.data.code?e.$set(e.image,e.image.length,t.data.data.imageSrc):Object(c["a"])({message:t.data.msg,confirmButtonColor:"#1bb339"})})).catch((function(){}))},dismiss:function(){this.choose_flag=!1,this.unit_flag=!1,this.deal_flag=!1},goBack:function(){this.$router.go(-1)},unit:function(){var t=this;this.ajax.post(this.mainUrl+"goods/Goods/goodsUnit",{},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){0==e.data.code?(t.unitType01=e.data.data,t.$set(t.selUnit,"name",e.data.data[0].unit_name),t.$set(t.selUnit,"id",e.data.data[0].unit_id)):Object(c["a"])({message:e.data.msg,confirmButtonColor:"#1bb339"})})).catch((function(){}))},type:function(t){var e=this;this.ajax.post(this.mainUrl+"goods/Goods/goodsType",this.qs.stringify({type:t}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){0==t.data.code?e.goodsType01=t.data.data:Object(c["a"])({message:t.data.msg,confirmButtonColor:"#1bb339"})})).catch((function(){}))},todeal:function(){this.deal_flag=!0},toType:function(){this.choose_flag=!0},toUnit:function(){this.unit_flag=!0},chotype:function(t){this.selType=t,console.log(JSON.stringify(t)),this.choose_flag=!1},chouni:function(t){console.log("dkk"),this.selUnit=t,console.log(JSON.stringify(t)),this.unit_flag=!1},chodeal:function(t){this.selDeal=t,console.log(JSON.stringify(t)),this.deal_flag=!1}}},g=h,m=(i("d6ef"),i("4e82")),f=Object(m["a"])(g,s,a,!1,null,"130e8fc6",null);e["default"]=f.exports},b3f3:function(t,e,i){"use strict";var s=i("133b");i("2498")({target:"RegExp",proto:!0,forced:s!==/./.exec},{exec:s})},c041:function(t,e,i){"use strict";var s=i("8cac"),a=i("a9cf"),n=i("8941"),o=i("a6ad"),l=i("ff04"),r=i("2137"),c=Math.max,d=Math.min,p=Math.floor,u=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g,g=function(t){return void 0===t?t:String(t)};i("6af6")("replace",2,(function(t,e,i,m){return[function(s,a){var n=t(this),o=void 0==s?void 0:s[e];return void 0!==o?o.call(s,n,a):i.call(String(n),s,a)},function(t,e){var a=m(i,t,this,e);if(a.done)return a.value;var p=s(t),u=String(this),h="function"===typeof e;h||(e=String(e));var v=p.global;if(v){var y=p.unicode;p.lastIndex=0}var _=[];while(1){var x=r(p,u);if(null===x)break;if(_.push(x),!v)break;var b=String(x[0]);""===b&&(p.lastIndex=l(u,n(p.lastIndex),y))}for(var C="",F=0,I=0;I<_.length;I++){x=_[I];for(var w=String(x[0]),N=c(d(o(x.index),u.length),0),S=[],T=1;T<x.length;T++)S.push(g(x[T]));var $=x.groups;if(h){var k=[w].concat(S,N,u);void 0!==$&&k.push($);var U=String(e.apply(void 0,k))}else U=f(w,u,N,S,$,e);N>=F&&(C+=u.slice(F,N)+U,F=N+w.length)}return C+u.slice(F)}];function f(t,e,s,n,o,l){var r=s+t.length,c=n.length,d=h;return void 0!==o&&(o=a(o),d=u),i.call(l,d,(function(i,a){var l;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,s);case"'":return e.slice(r);case"<":l=o[a.slice(1,-1)];break;default:var d=+a;if(0===d)return i;if(d>c){var u=p(d/10);return 0===u?i:u<=c?void 0===n[u-1]?a.charAt(1):n[u-1]+a.charAt(1):i}l=n[d-1]}return void 0===l?"":l}))}}))},d6ef:function(t,e,i){"use strict";var s=i("df68"),a=i.n(s);a.a},df68:function(t,e,i){},e7a1:function(t,e,i){"use strict";var s=i("8cac");t.exports=function(){var t=s(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},ff04:function(t,e,i){"use strict";var s=i("1eb0")(!0);t.exports=function(t,e,i){return e+(i?s(t,e).length:1)}}}]);
//# sourceMappingURL=chunk-081d4d7e.4793c249.js.map