(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c3a2914"],{"1c90":function(t,e,i){},"3b46":function(t,e,i){"use strict";function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}i.d(e,"a",(function(){return a}))},"4a8a":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"alertBtn"},[i("van-overlay",{attrs:{show:t.show},on:{click:function(e){t.show=!1}}},[i("div",{staticClass:"wrapper",on:{click:function(t){t.stopPropagation()}}},["text"==t.type_choose?i("div",{staticClass:"inp_div"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],attrs:{type:"text",placeholder:"请输入..."},domProps:{value:t.val},on:{input:function(e){e.target.composing||(t.val=e.target.value)}}})]):i("div",{staticClass:"inp_div"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],attrs:{type:"number",placeholder:"请输入..."},domProps:{value:t.val},on:{input:function(e){e.target.composing||(t.val=e.target.value)}}})]),i("div",{staticClass:"mainFlex"},[i("p",{on:{click:t.dismiss}},[t._v("取消")]),i("p",{on:{click:t.sure}},[t._v("确定")])])])])],1)},n=[],s={name:"inp",props:["title","type"],data:function(){return{show:!0,val:this.title,type_choose:this.type}},created:function(){console.log(this.type)},watch:{title:function(t,e){this.val=t},type:function(t,e){this.type_choose=t}},methods:{sure:function(){console.log(122),this.$emit("sureValue",this.val)},dismiss:function(){console.log(122),this.$emit("dismiss")}}},o=s,r=(i("fe7a"),i("4e82")),c=Object(r["a"])(o,a,n,!1,null,"051cdcb2",null);e["a"]=c.exports},5259:function(t,e,i){},"815c":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"apply",attrs:{id:"apply"}},[i("div",{staticClass:"header"},[i("div",{staticClass:"goBack",on:{click:function(e){return t.goBack()}}},[i("span",{staticClass:"iconfont icon-fanhui1"})]),i("p",[t._v("注册信息")])]),i("div",{staticClass:"contentUli ",style:{marginBottom:t.marginBottom},attrs:{id:"contentUli"}},[i("div",{staticClass:"mainFlex"},[i("p",[t._v("真实姓名")]),i("div",{staticClass:"flexEnd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.realName,expression:"realName"}],attrs:{type:"text",value:"",placeholder:"请输入真实姓名",id:"realName"},domProps:{value:t.realName},on:{input:function(e){e.target.composing||(t.realName=e.target.value)}}})])]),i("div",{staticClass:"mainFlex"},[i("p",[t._v("证件类型")]),i("div",{staticClass:"radioFlex",attrs:{id:"radio_main"}},[i("div",{class:1==t.selIndex?"radio_active":"",attrs:{"data-index":"1"},on:{click:function(e){return t.selRedio(1)}}},[i("p",[t._v("身份证")])]),i("div",{class:2==t.selIndex?"radio_active":"",attrs:{"data-index":"2"},on:{click:function(e){return t.selRedio(2)}}},[i("p",[t._v("营业执照")])])])]),1==t.selIndex?i("div",{staticClass:"mainFlex addCard"},[i("p",[t._v("证件号码")]),i("div",{staticClass:"flexEnd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.cardNum,expression:"cardNum"}],attrs:{type:"text",placeholder:"请输入证件号码",id:"cardNum"},domProps:{value:t.cardNum},on:{input:function(e){e.target.composing||(t.cardNum=e.target.value)}}})])]):t._e(),2==t.selIndex?i("div",{staticClass:"mainFlex addFiles"},[i("p",[t._v("营业执照")]),i("div",{staticClass:"flexEnd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.photo_number,expression:"photo_number"}],attrs:{type:"text",placeholder:"请输入营业执照",id:"photo_number"},domProps:{value:t.photo_number},on:{input:function(e){e.target.composing||(t.photo_number=e.target.value)}}})])]):t._e(),1==t.selIndex?i("div",{staticClass:"main imgtype",attrs:{id:"addCard"}},[i("p",[t._v("选填")]),i("div",{staticClass:"imgUli",attrs:{id:"cardImg"}},[t._l(t.cardUrl,(function(t){return i("div",{key:t,staticClass:"imgLi"},[i("img",{attrs:{src:t,alt:""}})])})),t.cardUrl.length<4?i("div",{staticClass:"addImg",attrs:{id:"addCardimg"}},[i("span",{staticClass:"iconfont icon-add"}),i("p",[t._v("添加图片")]),i("input",{attrs:{type:"file",id:"cardId"},on:{change:function(e){return t.cardUrlup(e)}}})]):t._e()],2)]):t._e(),2==t.selIndex?i("div",{staticClass:"main imgtype",attrs:{id:"addFiles"}},[i("p",[t._v("上传营业资质/证照")]),i("div",{staticClass:"imgUli",attrs:{id:"yyImg"}},[t._l(t.zzImg,(function(e){return i("div",{key:e,staticClass:"imgLi"},[i("img",{attrs:{src:e,index:t.index,alt:""}})])})),i("div",{staticClass:"addImg",attrs:{id:"addZz"}},[i("span",{staticClass:"iconfont icon-add"}),i("p",[t._v("添加图片")]),i("input",{attrs:{type:"file",id:"zzId"},on:{change:function(e){return t.zzUrl(e)}}})])],2)]):t._e(),i("div",{staticClass:"mainFlex"},[i("p",[t._v("位置")]),i("div",{staticClass:"flexEnd"},[i("div",{attrs:{id:"cityPicker"},on:{click:function(e){return t.gain()}}},[t._v(t._s(""==t.selCity?"请选择":t.selCity))])])]),i("div",{staticClass:"mainFlex"},[i("p",[t._v("详细地址")]),i("div",{staticClass:"flexEnd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],attrs:{type:"text",placeholder:"请输入详细地址",readonly:"readonly"},domProps:{value:t.address},on:{click:function(e){t.addressFlag=!0},input:function(e){e.target.composing||(t.address=e.target.value)}}})])]),i("div",{staticClass:"mainFlex matginTop"},[i("p",[t._v("手机号")]),i("div",{staticClass:"flexEnd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"text",placeholder:"请输入手机号",id:"phone",readonly:"readonly"},domProps:{value:t.phone},on:{click:function(e){t.phoneFlag=!0},input:function(e){e.target.composing||(t.phone=e.target.value)}}})])]),i("div",{ref:"codeNum",staticClass:"mainFlex",attrs:{id:"codeNum"}},[i("p",[t._v("验证码")]),i("div",{staticClass:"flexEnd"},[i("div",{staticClass:"endInput"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.codeNum,expression:"codeNum"}],attrs:{type:"text",placeholder:"请输入验证码",readonly:"readonly"},domProps:{value:t.codeNum},on:{click:function(e){t.codeNumFlag=!0},input:function(e){e.target.composing||(t.codeNum=e.target.value)}}})]),i("button",{staticClass:"rightDiv",attrs:{id:"codeName"},on:{click:function(e){return t.getCode()}}},[t._v("\n                        "+t._s(t.code.codeText)+"\n                    ")])])]),i("div",{staticClass:"fixP"},[i("p",{on:{click:function(e){return t.nextStep()}}},[t._v("下一步")])])]),i("div",{attrs:{id:"allmap"}}),i("div"),t.show?i("cityCompontents",{attrs:{location:t.location},on:{confirmSure:t.confirmSure,alertMiss:t.alertMiss}}):t._e(),t.addressFlag?i("inp",{attrs:{title:t.address,type:"text"},on:{dismiss:t.dismiss,sureValue:t.sureValueaddr}}):t._e(),t.phoneFlag?i("inp",{attrs:{title:t.phone,type:"number"},on:{dismiss:t.dismiss,sureValue:t.sureValuephone}}):t._e(),t.codeNumFlag?i("inp",{attrs:{title:t.codeNum,type:"number"},on:{dismiss:t.dismiss,sureValue:t.sureValuecode}}):t._e()],1)},n=[],s=i("3b46"),o=i("35f1"),r=i("19b2"),c=i("4a8a"),d={name:"register_news",components:{cityCompontents:r["a"],inp:c["a"]},data:function(){var t;return t={realName:"",selIndex:1,cardNum:"",photo_number:"",phone:"",codeNum:"",area:"",zzImg:[],cardUrl:[],flag:!0,show:!1,code:{countDown:60,spanStatus:1,codeText:"获取验证码"},columns:[{values:["沈阳","北京"],className:"name1"},{values:["沈阳","北京"],className:"name1"}],province_list:[],city_list:{},county_list:{},columns_province:[],columns_city:[],columns_couny:[],id01:"",selVal:[0,0,0],selCity:"",location:{address:""}},Object(s["a"])(t,"id01",""),Object(s["a"])(t,"id02",""),Object(s["a"])(t,"id03",""),Object(s["a"])(t,"index01",""),Object(s["a"])(t,"index02",""),Object(s["a"])(t,"index03",""),Object(s["a"])(t,"selId",{}),Object(s["a"])(t,"address",""),Object(s["a"])(t,"className",""),Object(s["a"])(t,"topNum",0),Object(s["a"])(t,"clientHeightStart",""),Object(s["a"])(t,"marginBottom",0),Object(s["a"])(t,"addressFlag",!1),Object(s["a"])(t,"phoneFlag",!1),Object(s["a"])(t,"codeNumFlag",!1),t},created:function(){},mounted:function(){console.log("http://api.map.baidu.com/location/ip?ak=QM4toBaah8yEvGTKoTd7mHa06vBjGrSw"),this.getLocation();var t=document.documentElement.clientHeight||document.body.clientHeight;this.clientHeightStart=t;this.className=!0},methods:{alertMiss:function(){this.show=!1},dismiss:function(){this.addressFlag=!1,this.phoneFlag=!1,this.codeNumFlag=!1},sureValueaddr:function(t){this.addressFlag=!1,this.phoneFlag=!1,this.codeNumFlag=!1,this.address=t},sureValuephone:function(t){this.addressFlag=!1,this.phoneFlag=!1,this.codeNumFlag=!1,this.phone=t},sureValuecode:function(t){this.addressFlag=!1,this.phoneFlag=!1,this.codeNumFlag=!1,this.codeNum=t},comparison:function(){var t=this.location.province,e=this.location.city,i=this.location.area;this.city(t,e,i)},confirmSure:function(t){this.show=!1,this.$set(this.selId,"province",t.province),this.$set(this.selId,"city",t.city),this.$set(this.selId,"area",t.area),this.selCity=t.address},confirm:function(){this.show=!1,this.$set(this.selId,"province",this.id01),this.$set(this.selId,"city",this.id02),this.$set(this.selId,"area",this.id03),this.selCity=this.province_list[this.index01].region_name+this.city_list[this.id01][this.index02].region_name+this.county_list[this.id02][this.index03].region_name},getLocation:function(){var t=this,e=new BMap.Map("allmap"),i=new BMap.Point(116.331398,39.897445);e.centerAndZoom(i,12);var a=new BMap.Geolocation;a.getCurrentPosition((function(i){if(this.getStatus()==BMAP_STATUS_SUCCESS){console.log(1),console.log(1),console.log(1);var a=new BMap.Marker(i.point);e.addOverlay(a),e.panTo(i.point);var n=i.point.lng,s=i.point.lat,o=3e3*Math.PI/180,r=n-.0065,c=s-.006,d=Math.sqrt(r*r+c*c)-2e-5*Math.sin(c*o),l=Math.atan2(c,r)-3e-6*Math.cos(r*o),u=d*Math.cos(l),m=d*Math.sin(l);i.point.lng=u,i.point.lat=m,t.analysis(i)}else console.log(2)}),{enableHighAccuracy:!0})},analysis:function(t){var e=this,i=new BMap.Geocoder,a=t.point;i.getLocation(a,(function(t){var i=t.addressComponents,a=i.province+""+i.city+i.district;console.log(t.addressComponents),e.$set(e.location,"address",a),e.$set(e.location,"province",i.province),e.$set(e.location,"city",i.city),e.$set(e.location,"area",i.district),e.selCity=a,e.comparison()}))},onChange:function(t,e){var i=t.getIndexes();this.selVal=i,this.id01=this.province_list[i[0]].region_id;var a=this.city_list[this.id01][i[1]].region_id;this.id02=a,this.id03=this.county_list[a][i[2]].region_id,this.index01=i[0],this.index02=i[1],this.index03=i[2],this.pickIndex(a)},inputFocus:function(){var t=this;console.log("zheli ");var e=this;e.marginBottom="2000px",this.$nextTick((function(){document.documentElement.scrollTop=300})),console.log(document.documentElement.clientHeight);var i=document.documentElement.clientHeight||document.body.clientHeight;this.clientHeightStart-i>60?this.$nextTick((function(){document.documentElement.scrollTop=t.clientHeightStart-i})):this.$nextTick((function(){}))},inputBlur:function(){console.log("4");var t=this;this.$nextTick((function(){t.marginBottom="0px"}))},cityN:function(){var t=this;this.ajax.post(this.mainUrl+"message/Code/region",{},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){for(var i=[],a={},n={},s="",o=[],r=0;r<e.data.data.length;r++){if(1==e.data.data[r].region_type){var c={region_id:e.data.data[r].region_id,region_name:e.data.data[r].region_name};0==o.length&&(s=e.data.data[r].region_id,t.id01=s),o.push(e.data.data[r].region_name),i.push(c)}if(2==e.data.data[r].region_type){var d=[];if(e.data.data[r].parent_id in a){var l={region_id:e.data.data[r].region_id,region_name:e.data.data[r].region_name};a[e.data.data[r].parent_id].push(l)}else d.push({region_id:e.data.data[r].region_id,region_name:e.data.data[r].region_name}),a[e.data.data[r].parent_id]=d}if(3==e.data.data[r].region_type){var u=[];if(e.data.data[r].parent_id in n){var m={region_id:e.data.data[r].region_id,region_name:e.data.data[r].region_name};n[e.data.data[r].parent_id].push(m)}else u.push({region_id:e.data.data[r].region_id,region_name:e.data.data[r].region_name}),n[e.data.data[r].parent_id]=u}}t.province_list=i,t.city_list=a,t.county_list=n,t.columns_province=o,console.log(JSON.stringify(o)),t.id01=s,console.log(s),t.index01=0,t.index02=0,t.index03=0,t.pickIndex()})).catch((function(){}))},city:function(t,e,i){var a=this;console.log(t),console.log(e),console.log(i);var n=this;this.ajax.post(this.mainUrl+"message/Code/region",{},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(s){for(var o=0;o<s.data.data.length;o++)s.data.data[o].region_name==t&&(n.id01=s.data.data[o].region_id),s.data.data[o].region_name==e&&(n.id02=s.data.data[o].region_id),s.data.data[o].region_name==i&&(n.id03=s.data.data[o].region_id);n.$set(n.selId,"province",n.id01),n.$set(n.selId,"city",n.id02),n.$set(n.selId,"area",n.id03),console.log(a.id01)})).catch((function(){}))},pickIndex:function(t){for(var e=this.id01,i="",a=[],n=[],s=this.city_list[e],o=0;o<s.length;o++)a.push(s[o].region_name);console.log(t),t?i=t:(i=s[0].region_id,this.id02=i),this.columns_city=a,console.log(i),console.log(JSON.stringify(a)),console.log(JSON.stringify(n));for(var r=this.county_list[i],c=0;c<r.length;c++)n.push(r[c].region_name);console.log(n),this.columns_couny=n;var d=[{values:this.columns_province,className:"name1"},{values:this.columns_city,className:"name1"},{values:this.columns_couny,className:"name1"}];this.columns=d,console.log(this.columns),console.log(JSON.stringify(this.columns))},selRedio:function(t){this.selIndex=t},countDown:function(t){if(t-=1,0==t)return this.code_html="获取验证码",this.flag_switch=1,t=60,void(this.flag=!0);this.code_html=t+"秒后重新发送",setTimeout(this.countDown(t),1e3)},zzUrl:function(t){var e=new FileReader,i=this;e.onload=function(){return function(){i.upLoad(this.result,2)}}(t.target.files[0]),e.readAsDataURL(t.target.files[0])},cardUrlup:function(t){var e=this,i=new FileReader;i.onload=function(){return function(){e.upLoad(this.result,1)}}(t.target.files[0]),i.readAsDataURL(t.target.files[0])},getCode:function(){var t=this.phone,e=this;return""==t?(Object(o["a"])({message:"请输入手机号",confirmButtonColor:"#1bb339"}),!1):/^1[3456789]\d{9}$/.test(t)?!!this.flag&&(this.flag=!1,void this.ajax.post(this.mainUrl+"message/Code/code",this.qs.stringify({phone:t,type:1}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){if(0==t.data.code)var i=setInterval((function(){e.code.countDown<0?(e.$set(e.code,"codeText","获取验证码"),e.$set(e.code,"countDown",60),e.$set(e.code,"spanStatus",1),clearInterval(i),e.flag=!0):(e.$set(e.code,"codeText","重新获取("+e.code.countDown+")"),e.code.countDown--)}),1e3)})).catch((function(){}))):(Object(o["a"])({message:"手机号码有误，请重填",confirmButtonColor:"#1bb339"}),!1)},upLoad:function(t,e){var i=this;this.ajax.post(this.mainUrl+"upload/Upload/base64_image_upload",this.qs.stringify({base64:t}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){0==t.data.code?1==e?i.$set(i.cardUrl,i.cardUrl.length,t.data.data.imageSrc):i.$set(i.zzImg,i.zzImg.length,t.data.data.imageSrc):Object(o["a"])({message:t.data.msg,confirmButtonColor:"#1bb339"})})).catch((function(){}))},isCardNo:function(t){var e=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;return!1!==e.test(t)},goBack:function(){this.$router.go(-1)},nextStep:function(){var t=this.$route.query.type;if(""==this.realName)return Object(o["a"])({message:"请输入真实姓名",confirmButtonColor:"#1bb339"}),!1;if(""==this.phone)return Object(o["a"])({message:"请输入手机号",confirmButtonColor:"#1bb339"}),!1;if(!/^1[3456789]\d{9}$/.test(this.phone))return Object(o["a"])({message:"请输入手机号",confirmButtonColor:"#1bb339"}),!1;if(this.area="beijing ",""==this.selCity)return Object(o["a"])({message:"请选择地址",confirmButtonColor:"#1bb339"}),!1;if(""==this.address)return Object(o["a"])({message:"请输入详细地址",confirmButtonColor:"#1bb339"}),!1;if(1==this.selIndex){if(""==this.cardNum)return Object(o["a"])({message:"请输入证件号码",confirmButtonColor:"#1bb339"}),!1;if(!this.isCardNo(this.cardNum))return Object(o["a"])({message:"请输入正确的身份证号",confirmButtonColor:"#1bb339"}),!1}else{if(""==this.photo_number)return Object(o["a"])({message:"请输入营业执照号码",confirmButtonColor:"#1bb339"}),!1;if(!/^[0-9a-zA-Z]*$/g.test(this.photo_number))return Object(o["a"])({message:"请输入正确的营业执照号码",confirmButtonColor:"#1bb339"}),!1;if(0==this.zzImg.length)return Object(o["a"])({message:"请选择营业执照图片",confirmButtonColor:"#1bb339"}),!1}if(""==this.codeNum)return Object(o["a"])({message:"请输入验证码",confirmButtonColor:"#1bb339"}),!1;this.$router.push({path:"/register_pass",query:{type:t,name:this.realName,phone:this.phone,photo_type:this.selIndex,address:this.address,cardNum:this.cardNum,cardUrl:this.cardUrl,photo_number:this.photo_number,zzImg:this.zzImg,codeNum:this.codeNum,province_id:this.selId.province,city_id:this.selId.city,area_id:this.selId.area}})},gain:function(){this.show=!0}}},l=d,u=(i("f97a"),i("4e82")),m=Object(u["a"])(l,a,n,!1,null,"52b8e989",null);e["default"]=m.exports},f97a:function(t,e,i){"use strict";var a=i("5259"),n=i.n(a);n.a},fe7a:function(t,e,i){"use strict";var a=i("1c90"),n=i.n(a);n.a}}]);
//# sourceMappingURL=chunk-3c3a2914.03230616.js.map