(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c168504"],{1060:function(t,e,a){},2241:function(t,e,a){"use strict";var n=a("c31d"),i=a("2b0e"),o=a("d282"),s=a("ea8e"),r=a("b1d2"),l=a("6605"),c=a("861b"),d=a.n(c),u=a("ba31");function m(t,e){var a=e.to,n=e.url,i=e.replace;if(a&&t){var o=t[i?"replace":"push"](a);o&&o.catch&&o.catch(function(t){if(t&&"NavigationDuplicated"!==t.name)throw t})}else n&&(i?location.replace(n):location.href=n)}function h(t){m(t.parent&&t.parent.$router,t.props)}var p={url:String,replace:Boolean,to:[String,Object]},f=a("ad06"),g=a("543e"),v=Object(o["a"])("button"),b=v[0],_=v[1];function C(t,e,a,n){var i,o=e.tag,s=e.icon,l=e.type,c=e.color,m=e.plain,p=e.disabled,v=e.loading,b=e.hairline,C=e.loadingText,y={};function x(t){v||p||(Object(u["a"])(n,"click",t),h(n))}function w(t){Object(u["a"])(n,"touchstart",t)}c&&(y.color=m?c:r["f"],m||(y.background=c),-1!==c.indexOf("gradient")?y.border=0:y.borderColor=c);var B=[_([l,e.size,{plain:m,disabled:p,hairline:b,block:e.block,round:e.round,square:e.square}]),(i={},i[r["b"]]=b,i)];function N(){var n,i=[];return v?i.push(t(g["a"],{class:_("loading"),attrs:{size:e.loadingSize,type:e.loadingType,color:"currentColor"}})):s&&i.push(t(f["a"],{attrs:{name:s},class:_("icon")})),n=v?C:a.default?a.default():e.text,n&&i.push(t("span",{class:_("text")},[n])),i}return t(o,d()([{style:y,class:B,attrs:{type:e.nativeType,disabled:p},on:{click:x,touchstart:w}},Object(u["b"])(n)]),[N()])}C.props=Object(n["a"])({},p,{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"}});var y,x=b(C),w=Object(o["a"])("dialog"),B=w[0],N=w[1],O=w[2],k=B({mixins:[l["a"]],props:{title:String,width:[Number,String],message:String,className:null,callback:Function,beforeClose:Function,messageAlign:String,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showCancelButton:Boolean,transition:{type:String,default:"van-dialog-bounce"},showConfirmButton:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!1}},data:function(){return{loading:{confirm:!1,cancel:!1}}},methods:{onClickOverlay:function(){this.handleAction("overlay")},handleAction:function(t){var e=this;this.$emit(t),this.beforeClose?(this.loading[t]=!0,this.beforeClose(t,function(a){!1!==a&&e.loading[t]&&e.onClose(t),e.loading.confirm=!1,e.loading.cancel=!1})):this.onClose(t)},onClose:function(t){this.close(),this.callback&&this.callback(t)},onOpened:function(){this.$emit("opened")},onClosed:function(){this.$emit("closed")}},render:function(){var t,e,a=this,n=arguments[0];if(this.shouldRender){var i=this.message,o=this.messageAlign,l=this.slots(),c=this.slots("title")||this.title,d=c&&n("div",{class:N("header",{isolated:!i&&!l})},[c]),u=(l||i)&&n("div",{class:N("content")},[l||n("div",{domProps:{innerHTML:i},class:N("message",(t={"has-title":c},t[o]=o,t))})]),m=this.showCancelButton&&this.showConfirmButton,h=n("div",{class:[r["c"],N("footer",{buttons:m})]},[this.showCancelButton&&n(x,{attrs:{size:"large",loading:this.loading.cancel,text:this.cancelButtonText||O("cancel")},class:N("cancel"),style:{color:this.cancelButtonColor},on:{click:function(){a.handleAction("cancel")}}}),this.showConfirmButton&&n(x,{attrs:{size:"large",loading:this.loading.confirm,text:this.confirmButtonText||O("confirm")},class:[N("confirm"),(e={},e[r["a"]]=m,e)],style:{color:this.confirmButtonColor},on:{click:function(){a.handleAction("confirm")}}})]);return n("transition",{attrs:{name:this.transition},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[n("div",{directives:[{name:"show",value:this.value}],attrs:{role:"dialog","aria-labelledby":this.title||i},class:[N(),this.className],style:{width:Object(s["a"])(this.width)}},[d,u,h])])}}}),j=a("a142");function S(t){return document.body.contains(t)}function z(){y&&y.$destroy(),y=new(i["a"].extend(k))({el:document.createElement("div"),propsData:{lazyRender:!1}}),y.$on("input",function(t){y.value=t})}function I(t){return j["d"]?Promise.resolve():new Promise(function(e,a){y&&S(y.$el)||z(),Object(n["a"])(y,I.currentOptions,t,{resolve:e,reject:a})})}I.defaultOptions={value:!0,title:"",width:"",message:"",overlay:!0,className:"",lockScroll:!0,transition:"van-dialog-bounce",beforeClose:null,overlayClass:"",overlayStyle:null,messageAlign:"",getContainer:"body",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!1,closeOnClickOverlay:!1,callback:function(t){y["confirm"===t?"resolve":"reject"](t)}},I.alert=I,I.confirm=function(t){return I(Object(n["a"])({showCancelButton:!0},t))},I.close=function(){y&&(y.value=!1)},I.setDefaultOptions=function(t){Object(n["a"])(I.currentOptions,t)},I.resetDefaultOptions=function(){I.currentOptions=Object(n["a"])({},I.defaultOptions)},I.resetDefaultOptions(),I.install=function(){i["a"].use(k)},I.Component=k,i["a"].prototype.$dialog=I;e["a"]=I},6218:function(t,e,a){"use strict";var n=a("1060"),i=a.n(n);i.a},"815c":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"header"},[a("div",{staticClass:"goBack",on:{click:function(e){return t.goBack()}}},[a("span",{staticClass:"iconfont icon-fanhui1"})]),a("p",[t._v("注册信息")])]),a("div",{staticClass:"contentUli"},[a("div",{staticClass:"mainFlex"},[a("p",[t._v("真实姓名")]),a("div",{staticClass:"flexEnd"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.realName,expression:"realName"}],attrs:{type:"text",value:"",placeholder:"请输入真实姓名",id:"realName"},domProps:{value:t.realName},on:{input:function(e){e.target.composing||(t.realName=e.target.value)}}})])]),a("div",{staticClass:"mainFlex"},[a("p",[t._v("证件类型")]),a("div",{staticClass:"radioFlex",attrs:{id:"radio_main"}},[a("div",{class:0==t.selIndex?"radio_active":"",attrs:{"data-index":"0"},on:{click:function(e){return t.selRedio(0)}}},[a("p",[t._v("身份证")])]),a("div",{class:1==t.selIndex?"radio_active":"",attrs:{"data-index":"1"},on:{click:function(e){return t.selRedio(1)}}},[a("p",[t._v("营业执照")])])])]),0==t.selIndex?a("div",{staticClass:"mainFlex addCard"},[a("p",[t._v("证件号码")]),a("div",{staticClass:"flexEnd"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.cardNum,expression:"cardNum"}],attrs:{type:"text",placeholder:"请输入证件号码",id:"cardNum"},domProps:{value:t.cardNum},on:{input:function(e){e.target.composing||(t.cardNum=e.target.value)}}})])]):t._e(),1==t.selIndex?a("div",{staticClass:"mainFlex addFiles"},[a("p",[t._v("营业执照")]),a("div",{staticClass:"flexEnd"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.photo_number,expression:"photo_number"}],attrs:{type:"text",placeholder:"请输入营业执照",id:"photo_number"},domProps:{value:t.photo_number},on:{change:function(e){return t.zzUrl(e)},input:function(e){e.target.composing||(t.photo_number=e.target.value)}}})])]):t._e(),0==t.selIndex?a("div",{staticClass:"main imgtype",attrs:{id:"addCard"}},[a("p",[t._v("上传身份证")]),a("div",{staticClass:"imgUli",attrs:{id:"cardImg"}},[t._l(t.cardUrl,function(t){return a("div",{key:t,staticClass:"imgLi"},[a("img",{attrs:{src:t,alt:""}})])}),t.cardUrl.length<4?a("div",{staticClass:"addImg",attrs:{id:"addCardimg"}},[a("span",{staticClass:"iconfont icon-add"}),a("p",[t._v("添加图片")]),a("input",{attrs:{type:"file",id:"cardId"},on:{change:function(e){return t.cardUrlup(e)}}})]):t._e()],2)]):t._e(),1==t.selIndex?a("div",{staticClass:"main imgtype",attrs:{id:"addFiles"}},[a("p",[t._v("上传营业执照号")]),a("div",{staticClass:"imgUli",attrs:{id:"yyImg"}},[t._l(t.zzImg,function(e){return a("div",{key:e,staticClass:"imgLi"},[a("img",{attrs:{src:e,index:t.index,alt:""}})])}),t._m(0)],2)]):t._e(),a("div",{staticClass:"mainFlex"},[a("p",[t._v("位置")]),a("div",{staticClass:"flexEnd"},[a("div",{attrs:{id:"cityPicker"},on:{click:function(e){return t.gain()}}},[t._v(t._s(""==t.selCity?"请选择":t.selCity))])])]),a("div",{staticClass:"mainFlex matginTop"},[a("p",[t._v("手机号")]),a("div",{staticClass:"flexEnd"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"text",placeholder:"请输入手机号",id:"phone"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})])]),a("div",{staticClass:"mainFlex"},[a("p",[t._v("验证码")]),a("div",{staticClass:"flexEnd"},[a("div",{staticClass:"endInput"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.codeNum,expression:"codeNum"}],attrs:{type:"text",placeholder:"请输入验证码",id:"codeNum"},domProps:{value:t.codeNum},on:{input:function(e){e.target.composing||(t.codeNum=e.target.value)}}})]),a("button",{staticClass:"rightDiv",attrs:{id:"codeName"},on:{click:function(e){return t.getCode()}}},[t._v("\n                        "+t._s(t.code.codeText)+"\n                    ")])])]),a("div",{staticClass:"fixP"},[a("p",{on:{click:function(e){return t.nextStep()}}},[t._v("下一步")])])]),a("div",{attrs:{id:"allmap"}}),a("div"),a("van-popup",{style:{height:"60%"},attrs:{position:"bottom",closeable:""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("div",{staticClass:"nowLocation"},[a("p",{staticClass:"leftdiv"},[t._v("当前位置")]),a("p",{staticClass:"nowarea"},[t._v("辽宁省沈阳市浑南区 ")])]),a("van-picker",{attrs:{columns:t.columns},on:{change:t.onChange}})],1)],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addImg",attrs:{id:"addZz"}},[a("span",{staticClass:"iconfont icon-add"}),a("p",[t._v("添加图片")]),a("input",{attrs:{type:"file",id:"zzId"}})])}],o=(a("cadf"),a("551c"),a("f751"),a("097d"),a("2241")),s={name:"register_news",data:function(){return{realName:"",selIndex:0,cardNum:"",photo_number:"",phone:"",codeNum:"",area:"",zzImg:[],cardUrl:[],flag:!0,show:!1,code:{countDown:60,spanStatus:1,codeText:"获取验证码"},columns:[{values:["沈阳","北京"],className:"name1"},{values:["沈阳","北京"],className:"name1"}],province_list:[],city_list:{},county_list:{},columns_province:[],columns_city:[],columns_couny:[],id01:"",selVal:[0,0,0],selCity:""}},created:function(){this.city()},mounted:function(){console.log("http://api.map.baidu.com/location/ip?ak=QM4toBaah8yEvGTKoTd7mHa06vBjGrSw");var t=this,e=new BMap.Geolocation,a=new BMap.Geocoder;e.getCurrentPosition(function(e){a.getLocation(new BMap.Point(e.point.lng,e.point.lng),function(e){e&&(console.log(e),t.result=e)})})},methods:{onChange:function(t,e){var a=t.getIndexes();this.selVal=a,this.id01=this.province_list[a[0]].region_id,this.pickIndex(),this.selCity=e[0]+e[1]+e[2]},city:function(){var t=this;this.ajax.post(this.mainUrl+"message/Code/region",{},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){for(var a=[],n={},i={},o="",s=[],r=0;r<e.data.data.length;r++){if(1==e.data.data[r].region_type){var l={region_id:e.data.data[r].region_id,region_name:e.data.data[r].region_name};0==s.length&&(o=e.data.data[r].region_id),s.push(e.data.data[r].region_name),a.push(l)}if(2==e.data.data[r].region_type){var c=[];if(e.data.data[r].parent_id in n){var d={region_id:e.data.data[r].region_id,region_name:e.data.data[r].region_name};n[e.data.data[r].parent_id].push(d)}else c.push({region_id:e.data.data[r].region_id,region_name:e.data.data[r].region_name}),n[e.data.data[r].parent_id]=c}if(3==e.data.data[r].region_type){var u=[];if(e.data.data[r].parent_id in i){var m={region_id:e.data.data[r].region_id,region_name:e.data.data[r].region_name};i[e.data.data[r].parent_id].push(m)}else u.push({region_id:e.data.data[r].region_id,region_name:e.data.data[r].region_name}),i[e.data.data[r].parent_id]=u}}t.province_list=a,t.city_list=n,t.county_list=i,t.columns_province=s,t.id01=o,t.pickIndex()}).catch(function(){})},pickIndex:function(){for(var t=this.id01,e="",a=[],n=[],i=this.city_list[t],o=0;o<i.length;o++)0==o&&(e=i[o].region_id),a.push(i[o].region_name);this.columns_city=a;for(var s=this.county_list[e],r=0;r<s.length;r++)n.push(s[r].region_name);this.columns_couny=n;var l=[{values:this.columns_province,className:"name1"},{values:this.columns_city,className:"name1"},{values:this.columns_couny,className:"name1"}];this.columns=l},selRedio:function(t){this.selIndex=t},countDown:function(t){if(t-=1,0==t)return this.code_html="获取验证码",this.flag_switch=1,t=60,void(this.flag=!0);this.code_html=t+"秒后重新发送",setTimeout(this.countDown(t),1e3)},zzUrl:function(t){var e=new FileReader,a=this;e.onload=function(){return function(){a.upLoad(this.result,2)}}(t.target.files[0]),e.readAsDataURL(t.target.files[0])},cardUrlup:function(t){var e=this,a=new FileReader;a.onload=function(){return function(){e.upLoad(this.result,1)}}(t.target.files[0]),a.readAsDataURL(t.target.files[0])},getCode:function(){var t=this,e=this.phone,a=this;return""==e?(Object(o["a"])({message:"请输入手机号",confirmButtonColor:"#1bb339"}),!1):/^1[3456789]\d{9}$/.test(e)?!!this.flag&&(this.flag=!1,void this.ajax.post(this.mainUrl+"message/Code/code",this.qs.stringify({phone:e,type:1}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){if(t.flag=!0,0==e.data.code)var n=setInterval(function(){a.code.countDown<0?(a.$set(a.code_html,"codeText","获取验证码"),a.$set(a.code,"countDown",60),a.$set(a.code,"spanStatus",1),clearInterval(n)):(a.$set(a.code,"codeText","重新获取("+a.code.countDown+")"),a.code.countDown--)},1e3)}).catch(function(){})):(Object(o["a"])({message:"手机号码有误，请重填",confirmButtonColor:"#1bb339"}),!1)},upLoad:function(t,e){var a=this;this.ajax.post(this.mainUrl+"upload/Upload/base64_image_upload",this.qs.stringify({base64:t}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){0==t.data.code?1==e?a.$set(a.cardUrl,a.cardUrl.length,t.data.data.imageSrc):a.$set(a.zzImg,a.zzImg.length,t.data.data.imageSrc):Object(o["a"])({message:t.data.msg,confirmButtonColor:"#1bb339"})}).catch(function(){})},isCardNo:function(t){var e=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;return!1!==e.test(t)},goBack:function(){this.$router.go(-1)},nextStep:function(){var t=this.$route.query.type;if(""==this.realName)return Object(o["a"])({message:"请输入真实姓名",confirmButtonColor:"#1bb339"}),!1;if(""==this.phone)return Object(o["a"])({message:"请输入手机号",confirmButtonColor:"#1bb339"}),!1;if(!/^1[3456789]\d{9}$/.test(this.phone))return Object(o["a"])({message:"请输入手机号",confirmButtonColor:"#1bb339"}),!1;if(this.area="beijing ",""==this.area||"请选择"==this.area)return Object(o["a"])({message:"请选择地址",confirmButtonColor:"#1bb339"}),!1;if(0==this.selIndex){if(""==this.cardNum)return Object(o["a"])({message:"请输入证件号码",confirmButtonColor:"#1bb339"}),!1;if(!this.isCardNo(this.cardNum))return Object(o["a"])({message:"请输入正确的身份证号",confirmButtonColor:"#1bb339"}),!1;if(0==this.cardUrl.length)return Object(o["a"])({message:"请选择身份证图片",confirmButtonColor:"#1bb339"}),!1}else{if(""==this.photo_number)return Object(o["a"])({message:"请输入营业执照号码",confirmButtonColor:"#1bb339"}),!1;if(!/^[0-9a-zA-Z]*$/g.test(this.photo_number))return Object(o["a"])({message:"请输入正确的营业执照号码",confirmButtonColor:"#1bb339"}),!1;if(0==this.zzImg.length)return Object(o["a"])({message:"请选择营业执照图片",confirmButtonColor:"#1bb339"}),!1}if(""==this.codeNum)return Object(o["a"])({message:"请输入验证码",confirmButtonColor:"#1bb339"}),!1;this.$router.push({path:"/register_pass",query:{type:t,name:this.realName,phone:this.phone,photo_type:this.selIndex,address:this.area,cardNum:this.cardNum,cardUrl:this.cardUrl,photo_number:this.photo_number,zzImg:this.zzImg,codeNum:this.codeNum}})},gain:function(){this.show=!0}}},r=s,l=(a("6218"),a("2877")),c=Object(l["a"])(r,n,i,!1,null,"10234620",null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2c168504.f8327087.js.map